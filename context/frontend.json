{
  "tree": {
    "name": "frontend",
    "type": "folder",
    "children": [
      {
        "name": "next-env.d.ts",
        "type": "file"
      },
      {
        "name": "src",
        "type": "folder",
        "children": [
          {
            "name": "app",
            "type": "folder",
            "children": [
              {
                "name": "graph",
                "type": "folder",
                "children": [
                  {
                    "name": "page.tsx",
                    "type": "file"
                  }
                ]
              },
              {
                "name": "index_file",
                "type": "folder",
                "children": [
                  {
                    "name": "page.tsx",
                    "type": "file"
                  }
                ]
              },
              {
                "name": "layout.tsx",
                "type": "file"
              },
              {
                "name": "page.tsx",
                "type": "file"
              },
              {
                "name": "search",
                "type": "folder",
                "children": [
                  {
                    "name": "page.tsx",
                    "type": "file"
                  }
                ]
              },
              {
                "name": "settings",
                "type": "folder",
                "children": [
                  {
                    "name": "page.tsx",
                    "type": "file"
                  }
                ]
              }
            ]
          },
          {
            "name": "components",
            "type": "folder",
            "children": [
              {
                "name": "CodeViewer.tsx",
                "type": "file"
              },
              {
                "name": "DiffViewer.tsx",
                "type": "file"
              },
              {
                "name": "GraphVisualizer.tsx",
                "type": "file"
              },
              {
                "name": "Layout.tsx",
                "type": "file"
              }
            ]
          },
          {
            "name": "store",
            "type": "folder",
            "children": [
              {
                "name": "index.ts",
                "type": "file"
              }
            ]
          },
          {
            "name": "styles",
            "type": "folder",
            "children": []
          }
        ]
      }
    ]
  },
  "files": {
    "next-env.d.ts": "/// <reference types=\"next\" />\n/// <reference types=\"next/image-types/global\" />\n\n// NOTE: This file should not be edited\n// see https://nextjs.org/docs/app/building-your-application/configuring/typescript for more information.\n",
    "src\\app\\layout.tsx": "\"use client\"\n// Root Layout for Next.js App\n\nimport type { Metadata } from 'next';\nimport { Inter } from 'next/font/google';\nimport Layout from '@/components/Layout';\nimport '@/styles/globals.css';\n\nconst inter = Inter({ subsets: ['latin'] });\n\n// export const metadata: Metadata = {\n//     title: 'Vibe Agent - AI Coding Assistant',\n//     description: 'Local-first AI coding assistant with semantic search and intelligent debugging',\n// };\n\nexport default function RootLayout({\n    children,\n}: {\n    children: React.ReactNode;\n}) {\n    return (\n        <html lang=\"en\">\n            <body className={inter.className}>\n                <Layout>{children}</Layout>\n            </body>\n        </html>\n    );\n}\n",
    "src\\app\\page.tsx": "// Chat Page - Main Interface\n\n'use client';\n\nimport React, { useState, useRef, useEffect } from 'react';\nimport { useStore } from '@/store';\n\nexport default function ChatPage() {\n    const { chat, addMessage, setStreaming } = useStore();\n    const [input, setInput] = useState('');\n    const [isLoading, setIsLoading] = useState(false);\n    const messagesEndRef = useRef<HTMLDivElement>(null);\n\n    const scrollToBottom = () => {\n        messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n    };\n\n    useEffect(() => {\n        scrollToBottom();\n    }, [chat.messages]);\n\n    const handleSend = async () => {\n        if (!input.trim() || isLoading) return;\n\n        const userMessage = {\n            role: 'user' as const,\n            content: input,\n            timestamp: new Date(),\n        };\n\n        addMessage(userMessage);\n        setInput('');\n        setIsLoading(true);\n\n        try {\n            // Call API (placeholder - actual implementation would use API client)\n            const response = await fetch('http://localhost:8000/chat/completion', {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({\n                    messages: [...chat.messages, userMessage].map((m) => ({\n                        role: m.role,\n                        content: m.content,\n                    })),\n                }),\n            });\n\n            const data = await response.json();\n\n            addMessage({\n                role: 'assistant',\n                content: data.message || 'No response',\n                timestamp: new Date(),\n            });\n        } catch (error) {\n            addMessage({\n                role: 'assistant',\n                content: 'Error: Failed to get response',\n                timestamp: new Date(),\n            });\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    return (\n        <div className=\"flex flex-col h-full\">\n            {/* Header */}\n            <header className=\"bg-slate-800 border-b border-slate-700 p-4\">\n                <h2 className=\"text-xl font-semibold\">AI Chat Assistant</h2>\n                <p className=\"text-sm text-slate-400\">Ask about your code, debug errors, get suggestions</p>\n            </header>\n\n            {/* Messages */}\n            <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\n                {chat.messages.length === 0 ? (\n                    <div className=\"text-center text-slate-400 mt-20\">\n                        <h3 className=\"text-2xl mb-4\">\ud83d\udc4b Welcome to Vibe Agent</h3>\n                        <p className=\"mb-2\">Try asking:</p>\n                        <ul className=\"space-y-1 text-sm\">\n                            <li>\"How does authentication work?\"</li>\n                            <li>\"Find all database queries\"</li>\n                            <li>\"Explain the main function\"</li>\n                        </ul>\n                    </div>\n                ) : (\n                    chat.messages.map((message, idx) => (\n                        <div\n                            key={idx}\n                            className={`flex ${message.role === 'user' ? 'justify-end' : 'justify-start'}`}\n                        >\n                            <div\n                                className={`max-w-3xl rounded-lg p-4 ${message.role === 'user'\n                                        ? 'bg-indigo-600 text-white'\n                                        : 'bg-slate-800 border border-slate-700'\n                                    }`}\n                            >\n                                <div className=\"flex items-start gap-3\">\n                                    <span className=\"text-2xl\">\n                                        {message.role === 'user' ? '\ud83d\udc64' : '\ud83e\udd16'}\n                                    </span>\n                                    <div className=\"flex-1\">\n                                        <p className=\"whitespace-pre-wrap\">{message.content}</p>\n                                        <p className=\"text-xs opacity-70 mt-2\">\n                                            {message.timestamp.toLocaleTimeString()}\n                                        </p>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    ))\n                )}\n                {isLoading && (\n                    <div className=\"flex justify-start\">\n                        <div className=\"bg-slate-800 border border-slate-700 rounded-lg p-4\">\n                            <div className=\"flex items-center gap-2\">\n                                <span className=\"text-2xl\">\ud83e\udd16</span>\n                                <span className=\"text-slate-400\">Thinking...</span>\n                            </div>\n                        </div>\n                    </div>\n                )}\n                <div ref={messagesEndRef} />\n            </div>\n\n            {/* Input */}\n            <div className=\"bg-slate-800 border-t border-slate-700 p-4\">\n                <div className=\"flex gap-2\">\n                    <input\n                        type=\"text\"\n                        value={input}\n                        onChange={(e) => setInput(e.target.value)}\n                        onKeyPress={(e) => e.key === 'Enter' && handleSend()}\n                        placeholder=\"Ask me anything about your code...\"\n                        className=\"input flex-1\"\n                        disabled={isLoading}\n                    />\n                    <button\n                        onClick={handleSend}\n                        disabled={!input.trim() || isLoading}\n                        className=\"btn btn-primary\"\n                    >\n                        Send\n                    </button>\n                </div>\n            </div>\n        </div>\n    );\n}\n",
    "src\\app\\graph\\page.tsx": "// Graph Exploration Page\n\n'use client';\n\nimport React, { useState, useEffect } from 'react';\n\ninterface GraphStats {\n    nodes: {\n        functions: number;\n        classes: number;\n        files: number;\n    };\n    relationships: {\n        calls: number;\n        contains: number;\n        imports: number;\n    };\n    total_nodes: number;\n    total_relationships: number;\n}\n\nexport default function GraphPage() {\n    const [stats, setStats] = useState<GraphStats | null>(null);\n    const [selectedFunction, setSelectedFunction] = useState('');\n    const [callers, setCallers] = useState<any[]>([]);\n    const [callees, setCallees] = useState<any[]>([]);\n    const [isLoading, setIsLoading] = useState(false);\n\n    useEffect(() => {\n        loadGraphStats();\n    }, []);\n\n    const loadGraphStats = async () => {\n        try {\n            const response = await fetch('http://localhost:8000/graph/overview');\n            const data = await response.json();\n            setStats(data);\n        } catch (error) {\n            console.error('Failed to load graph stats:', error);\n        }\n    };\n\n    const handleFunctionLookup = async () => {\n        if (!selectedFunction.trim()) return;\n\n        setIsLoading(true);\n\n        try {\n            // Get callers\n            const callersResponse = await fetch(\n                `http://localhost:8000/graph/function/${selectedFunction}/callers`\n            );\n            const callersData = await callersResponse.json();\n            setCallers(callersData.callers || []);\n\n            // Get callees\n            const calleesResponse = await fetch(\n                `http://localhost:8000/graph/function/${selectedFunction}/callees`\n            );\n            const calleesData = await calleesResponse.json();\n            setCallees(calleesData.callees || []);\n        } catch (error) {\n            console.error('Function lookup failed:', error);\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    return (\n        <div className=\"h-full overflow-y-auto\">\n            <div className=\"max-w-6xl mx-auto p-8\">\n                {/* Header */}\n                <div className=\"mb-8\">\n                    <h1 className=\"text-3xl font-bold mb-2\">Code Graph Explorer</h1>\n                    <p className=\"text-slate-400\">\n                        Explore function call graphs and code dependencies\n                    </p>\n                </div>\n\n                {/* Statistics */}\n                {stats && (\n                    <div className=\"mb-8\">\n                        <h2 className=\"text-xl font-semibold mb-4\">Graph Overview</h2>\n\n                        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6\">\n                            <div className=\"card bg-indigo-900/30 border-indigo-700\">\n                                <div className=\"text-3xl font-bold text-indigo-400\">\n                                    {stats.nodes?.functions || 0}\n                                </div>\n                                <div className=\"text-sm text-slate-400\">Functions</div>\n                            </div>\n\n                            <div className=\"card bg-purple-900/30 border-purple-700\">\n                                <div className=\"text-3xl font-bold text-purple-400\">\n                                    {stats.nodes?.classes || 0}\n                                </div>\n                                <div className=\"text-sm text-slate-400\">Classes</div>\n                            </div>\n\n                            <div className=\"card bg-pink-900/30 border-pink-700\">\n                                <div className=\"text-3xl font-bold text-pink-400\">\n                                    {stats.nodes?.files || 0}\n                                </div>\n                                <div className=\"text-sm text-slate-400\">Files</div>\n                            </div>\n\n                            <div className=\"card bg-green-900/30 border-green-700\">\n                                <div className=\"text-3xl font-bold text-green-400\">\n                                    {stats.relationships?.calls || 0}\n                                </div>\n                                <div className=\"text-sm text-slate-400\">Call Relations</div>\n                            </div>\n                        </div>\n                    </div>\n                )}\n\n                {/* Function Lookup */}\n                <div className=\"card mb-8\">\n                    <h2 className=\"text-xl font-semibold mb-4\">Function Call Graph</h2>\n\n                    <div className=\"flex gap-2 mb-6\">\n                        <input\n                            type=\"text\"\n                            value={selectedFunction}\n                            onChange={(e) => setSelectedFunction(e.target.value)}\n                            onKeyPress={(e) => e.key === 'Enter' && handleFunctionLookup()}\n                            placeholder=\"Enter function name...\"\n                            className=\"input flex-1\"\n                        />\n                        <button\n                            onClick={handleFunctionLookup}\n                            disabled={!selectedFunction.trim() || isLoading}\n                            className=\"btn btn-primary\"\n                        >\n                            {isLoading ? 'Loading...' : 'Explore'}\n                        </button>\n                    </div>\n\n                    {/* Results */}\n                    {(callers.length > 0 || callees.length > 0) && (\n                        <div className=\"grid md:grid-cols-2 gap-6\">\n                            {/* Callers */}\n                            <div>\n                                <h3 className=\"font-semibold mb-3 text-indigo-400\">\n                                    \u2b06\ufe0f Called By ({callers.length})\n                                </h3>\n                                {callers.length === 0 ? (\n                                    <p className=\"text-sm text-slate-400\">No callers found</p>\n                                ) : (\n                                    <div className=\"space-y-2\">\n                                        {callers.map((caller, idx) => (\n                                            <div key={idx} className=\"bg-slate-900 rounded p-3\">\n                                                <div className=\"font-medium\">{caller.name}</div>\n                                                <div className=\"text-xs text-slate-400\">{caller.file}</div>\n                                            </div>\n                                        ))}\n                                    </div>\n                                )}\n                            </div>\n\n                            {/* Callees */}\n                            <div>\n                                <h3 className=\"font-semibold mb-3 text-purple-400\">\n                                    \u2b07\ufe0f Calls ({callees.length})\n                                </h3>\n                                {callees.length === 0 ? (\n                                    <p className=\"text-sm text-slate-400\">No callees found</p>\n                                ) : (\n                                    <div className=\"space-y-2\">\n                                        {callees.map((callee, idx) => (\n                                            <div key={idx} className=\"bg-slate-900 rounded p-3\">\n                                                <div className=\"font-medium\">{callee.name}</div>\n                                                <div className=\"text-xs text-slate-400\">{callee.file}</div>\n                                            </div>\n                                        ))}\n                                    </div>\n                                )}\n                            </div>\n                        </div>\n                    )}\n                </div>\n\n                {/* Info */}\n                <div className=\"p-4 bg-slate-800 border border-slate-700 rounded-lg\">\n                    <h4 className=\"font-semibold mb-2\">\ud83d\udca1 Graph Capabilities</h4>\n                    <ul className=\"space-y-1 text-sm text-slate-300\">\n                        <li>\u2022 Trace function call relationships</li>\n                        <li>\u2022 Identify high-impact code changes</li>\n                        <li>\u2022 Find circular dependencies</li>\n                        <li>\u2022 Analyze code coupling</li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    );\n}\n",
    "src\\app\\index_file\\page.tsx": "// Index Page - Repository Indexing\n\n'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { useStore } from '@/store';\n\nexport default function IndexPage() {\n    const { indexing, setIndexing } = useStore();\n    const [repoPath, setRepoPath] = useState('');\n\n    const startIndexing = async () => {\n        try {\n            const response = await fetch('http://localhost:8000/index_file/start', {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({\n                    repo_path: repoPath,\n                    force_reindex: false,\n                }),\n            });\n\n            const data = await response.json();\n\n            setIndexing({\n                isIndexing: true,\n                sessionId: data.session_id,\n                progress: 0,\n                status: 'Started...',\n            });\n\n            // Poll for status\n            pollStatus(data.session_id);\n        } catch (error) {\n            console.error('Failed to start indexing:', error);\n        }\n    };\n\n    const pollStatus = async (sessionId: string) => {\n        const interval = setInterval(async () => {\n            try {\n                const response = await fetch(`http://localhost:8000/index_file/status/${sessionId}`);\n                const data = await response.json();\n\n                setIndexing({\n                    progress: data.progress,\n                    status: data.message,\n                });\n\n                if (data.status === 'completed' || data.status === 'failed') {\n                    clearInterval(interval);\n                    setIndexing({ isIndexing: false });\n                }\n            } catch (error) {\n                clearInterval(interval);\n                setIndexing({ isIndexing: false });\n            }\n        }, 1000);\n    };\n\n    return (\n        <div className=\"h-full overflow-y-auto\">\n            <div className=\"max-w-4xl mx-auto p-8\">\n                {/* Header */}\n                <div className=\"mb-8\">\n                    <h1 className=\"text-3xl font-bold mb-2\">Repository Indexing</h1>\n                    <p className=\"text-slate-400\">\n                        Index your codebase to enable AI-powered search, chat, and debugging\n                    </p>\n                </div>\n\n                {/* Indexing Form */}\n                <div className=\"card mb-6\">\n                    <h2 className=\"text-xl font-semibold mb-4\">Start New Index</h2>\n\n                    <div className=\"space-y-4\">\n                        <div>\n                            <label className=\"block text-sm font-medium mb-2\">Repository Path</label>\n                            <input\n                                type=\"text\"\n                                value={repoPath}\n                                onChange={(e) => setRepoPath(e.target.value)}\n                                placeholder=\"/path/to/your/repository\"\n                                className=\"input\"\n                                disabled={indexing.isIndexing}\n                            />\n                        </div>\n\n                        <button\n                            onClick={startIndexing}\n                            disabled={!repoPath || indexing.isIndexing}\n                            className=\"btn btn-primary w-full\"\n                        >\n                            {indexing.isIndexing ? 'Indexing...' : 'Start Indexing'}\n                        </button>\n                    </div>\n                </div>\n\n                {/* Progress */}\n                {indexing.isIndexing && (\n                    <div className=\"card\">\n                        <h3 className=\"text-lg font-semibold mb-4\">Indexing Progress</h3>\n\n                        <div className=\"mb-4\">\n                            <div className=\"flex justify-between text-sm mb-2\">\n                                <span>{indexing.status}</span>\n                                <span>{Math.round(indexing.progress * 100)}%</span>\n                            </div>\n                            <div className=\"w-full bg-slate-700 rounded-full h-3\">\n                                <div\n                                    className=\"bg-indigo-600 h-3 rounded-full transition-all duration-300\"\n                                    style={{ width: `${indexing.progress * 100}%` }}\n                                />\n                            </div>\n                        </div>\n\n                        <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                            <div className=\"bg-slate-900 rounded p-3\">\n                                <div className=\"text-slate-400\">Session ID</div>\n                                <div className=\"font-mono text-xs\">{indexing.sessionId}</div>\n                            </div>\n                        </div>\n                    </div>\n                )}\n\n                {/* Statistics */}\n                <div className=\"card mt-6\">\n                    <h3 className=\"text-lg font-semibold mb-4\">Index Statistics</h3>\n\n                    <div className=\"grid grid-cols-3 gap-4\">\n                        <div className=\"bg-slate-900 rounded p-4 text-center\">\n                            <div className=\"text-3xl font-bold text-indigo-400\">0</div>\n                            <div className=\"text-sm text-slate-400\">Files Indexed</div>\n                        </div>\n                        <div className=\"bg-slate-900 rounded p-4 text-center\">\n                            <div className=\"text-3xl font-bold text-purple-400\">0</div>\n                            <div className=\"text-sm text-slate-400\">Functions</div>\n                        </div>\n                        <div className=\"bg-slate-900 rounded p-4 text-center\">\n                            <div className=\"text-3xl font-bold text-pink-400\">0</div>\n                            <div className=\"text-sm text-slate-400\">Chunks</div>\n                        </div>\n                    </div>\n                </div>\n\n                {/* Instructions */}\n                <div className=\"mt-6 p-4 bg-slate-800 border border-slate-700 rounded-lg\">\n                    <h4 className=\"font-semibold mb-2\">\ud83d\udcdd What happens during indexing?</h4>\n                    <ul className=\"space-y-1 text-sm text-slate-300\">\n                        <li>\u2022 Discovers all source files in the repository</li>\n                        <li>\u2022 Parses code into Abstract Syntax Trees</li>\n                        <li>\u2022 Generates semantic embeddings for search</li>\n                        <li>\u2022 Builds code graph for relationships</li>\n                        <li>\u2022 Analyzes code health and quality</li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    );\n}\n",
    "src\\app\\search\\page.tsx": "// Search Page - Semantic Code Search\n\n'use client';\n\nimport React, { useState } from 'react';\n\ninterface SearchResult {\n    chunk_id: string;\n    file_path: string;\n    start_line: number;\n    end_line: number;\n    content: string;\n    score: float;\n    language: string;\n}\n\nexport default function SearchPage() {\n    const [query, setQuery] = useState('');\n    const [results, setResults] = useState<SearchResult[]>([]);\n    const [isSearching, setIsSearching] = useState(false);\n\n    const handleSearch = async () => {\n        if (!query.trim()) return;\n\n        setIsSearching(true);\n\n        try {\n            const response = await fetch('http://localhost:8000/search/semantic', {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({\n                    query,\n                    top_k: 20,\n                }),\n            });\n\n            const data = await response.json();\n            setResults(data.results || []);\n        } catch (error) {\n            console.error('Search failed:', error);\n        } finally {\n            setIsSearching(false);\n        }\n    };\n\n    return (\n        <div className=\"h-full flex flex-col\">\n            {/* Header */}\n            <header className=\"bg-slate-800 border-b border-slate-700 p-6\">\n                <h1 className=\"text-2xl font-bold mb-4\">Semantic Code Search</h1>\n\n                <div className=\"flex gap-2\">\n                    <input\n                        type=\"text\"\n                        value={query}\n                        onChange={(e) => setQuery(e.target.value)}\n                        onKeyPress={(e) => e.key === 'Enter' && handleSearch()}\n                        placeholder=\"Search for functions, classes, or concepts...\"\n                        className=\"input flex-1\"\n                    />\n                    <button\n                        onClick={handleSearch}\n                        disabled={!query.trim() || isSearching}\n                        className=\"btn btn-primary\"\n                    >\n                        {isSearching ? 'Searching...' : 'Search'}\n                    </button>\n                </div>\n            </header>\n\n            {/* Results */}\n            <div className=\"flex-1 overflow-y-auto p-6\">\n                {results.length === 0 && !isSearching && (\n                    <div className=\"text-center text-slate-400 mt-20\">\n                        <h3 className=\"text-xl mb-2\">\ud83d\udd0d Search Your Codebase</h3>\n                        <p className=\"text-sm\">Try natural language queries like:</p>\n                        <ul className=\"space-y-1 text-sm mt-2\">\n                            <li>\"authentication functions\"</li>\n                            <li>\"database connection code\"</li>\n                            <li>\"error handling logic\"</li>\n                        </ul>\n                    </div>\n                )}\n\n                {isSearching && (\n                    <div className=\"text-center text-slate-400 mt-20\">\n                        <div className=\"text-4xl mb-4\">\u23f3</div>\n                        <p>Searching...</p>\n                    </div>\n                )}\n\n                {results.length > 0 && (\n                    <div className=\"max-w-5xl mx-auto space-y-4\">\n                        <div className=\"text-sm text-slate-400 mb-4\">\n                            Found {results.length} results\n                        </div>\n\n                        {results.map((result, idx) => (\n                            <div key={idx} className=\"card-hover\">\n                                <div className=\"flex justify-between items-start mb-2\">\n                                    <div>\n                                        <h3 className=\"font-medium text-indigo-400\">{result.file_path}</h3>\n                                        <p className=\"text-sm text-slate-400\">\n                                            Lines {result.start_line}-{result.end_line} \u2022 {result.language}\n                                        </p>\n                                    </div>\n                                    <div className=\"text-sm font-semibold text-green-400\">\n                                        {(result.score * 100).toFixed(1)}%\n                                    </div>\n                                </div>\n\n                                <pre className=\"bg-slate-900 rounded p-3 overflow-x-auto text-sm\">\n                                    <code>{result.content}</code>\n                                </pre>\n                            </div>\n                        ))}\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n}\n",
    "src\\app\\settings\\page.tsx": "// Settings Page\n\n'use client';\n\nimport React, { useState, useEffect } from 'react';\n\nexport default function SettingsPage() {\n    const [settings, setSettings] = useState({\n        repoPath: '',\n        geminiApiKey: '',\n        llmModel: 'gemini-2.0-flash-exp',\n        chunkSize: 400,\n        chunkOverlap: 70,\n        useLocalEmbeddings: true,\n    });\n\n    const [saved, setSaved] = useState(false);\n\n    const handleSave = () => {\n        // In production, this would save to backend/localStorage\n        localStorage.setItem('vibe-settings', JSON.stringify(settings));\n        setSaved(true);\n        setTimeout(() => setSaved(false), 2000);\n    };\n\n    useEffect(() => {\n        // Load saved settings\n        const savedSettings = localStorage.getItem('vibe-settings');\n        if (savedSettings) {\n            setSettings(JSON.parse(savedSettings));\n        }\n    }, []);\n\n    return (\n        <div className=\"h-full overflow-y-auto\">\n            <div className=\"max-w-3xl mx-auto p-8\">\n                {/* Header */}\n                <div className=\"mb-8\">\n                    <h1 className=\"text-3xl font-bold mb-2\">Settings</h1>\n                    <p className=\"text-slate-400\">Configure Vibe Agent for your needs</p>\n                </div>\n\n                {/* General Settings */}\n                <div className=\"card mb-6\">\n                    <h2 className=\"text-xl font-semibold mb-4\">General</h2>\n\n                    <div className=\"space-y-4\">\n                        <div>\n                            <label className=\"block text-sm font-medium mb-2\">\n                                Default Repository Path\n                            </label>\n                            <input\n                                type=\"text\"\n                                value={settings.repoPath}\n                                onChange={(e) => setSettings({ ...settings, repoPath: e.target.value })}\n                                placeholder=\"/path/to/your/code\"\n                                className=\"input\"\n                            />\n                            <p className=\"text-xs text-slate-400 mt-1\">\n                                Default path for indexing operations\n                            </p>\n                        </div>\n                    </div>\n                </div>\n\n                {/* LLM Settings */}\n                <div className=\"card mb-6\">\n                    <h2 className=\"text-xl font-semibold mb-4\">LLM Configuration</h2>\n\n                    <div className=\"space-y-4\">\n                        <div>\n                            <label className=\"block text-sm font-medium mb-2\">\n                                Gemini API Key\n                            </label>\n                            <input\n                                type=\"password\"\n                                value={settings.geminiApiKey}\n                                onChange={(e) => setSettings({ ...settings, geminiApiKey: e.target.value })}\n                                placeholder=\"Enter your API key\"\n                                className=\"input\"\n                            />\n                            <p className=\"text-xs text-slate-400 mt-1\">\n                                Get your key from{' '}\n                                <a\n                                    href=\"https://makersuite.google.com/app/apikey\"\n                                    target=\"_blank\"\n                                    rel=\"noopener noreferrer\"\n                                    className=\"text-indigo-400 hover:underline\"\n                                >\n                                    Google AI Studio\n                                </a>\n                            </p>\n                        </div>\n\n                        <div>\n                            <label className=\"block text-sm font-medium mb-2\">\n                                Primary Model\n                            </label>\n                            <select\n                                value={settings.llmModel}\n                                onChange={(e) => setSettings({ ...settings, llmModel: e.target.value })}\n                                className=\"input\"\n                            >\n                                <option value=\"gemini-2.0-flash-exp\">Gemini 2.0 Flash (Recommended)</option>\n                                <option value=\"gemini-1.5-pro\">Gemini 1.5 Pro</option>\n                                <option value=\"gemini-1.5-flash\">Gemini 1.5 Flash</option>\n                            </select>\n                        </div>\n                    </div>\n                </div>\n\n                {/* Indexing Settings */}\n                <div className=\"card mb-6\">\n                    <h2 className=\"text-xl font-semibold mb-4\">Indexing</h2>\n\n                    <div className=\"space-y-4\">\n                        <div>\n                            <label className=\"block text-sm font-medium mb-2\">\n                                Chunk Size (tokens)\n                            </label>\n                            <input\n                                type=\"number\"\n                                value={settings.chunkSize}\n                                onChange={(e) => setSettings({ ...settings, chunkSize: parseInt(e.target.value) })}\n                                className=\"input\"\n                                min=\"100\"\n                                max=\"1000\"\n                            />\n                            <p className=\"text-xs text-slate-400 mt-1\">\n                                Default: 400 tokens per chunk\n                            </p>\n                        </div>\n\n                        <div>\n                            <label className=\"block text-sm font-medium mb-2\">\n                                Chunk Overlap (tokens)\n                            </label>\n                            <input\n                                type=\"number\"\n                                value={settings.chunkOverlap}\n                                onChange={(e) => setSettings({ ...settings, chunkOverlap: parseInt(e.target.value) })}\n                                className=\"input\"\n                                min=\"0\"\n                                max=\"200\"\n                            />\n                            <p className=\"text-xs text-slate-400 mt-1\">\n                                Default: 70 tokens overlap between chunks\n                            </p>\n                        </div>\n\n                        <div>\n                            <label className=\"flex items-center gap-2\">\n                                <input\n                                    type=\"checkbox\"\n                                    checked={settings.useLocalEmbeddings}\n                                    onChange={(e) => setSettings({ ...settings, useLocalEmbeddings: e.target.checked })}\n                                    className=\"w-4 h-4\"\n                                />\n                                <span className=\"text-sm font-medium\">Use Local Embeddings (BGE-M3)</span>\n                            </label>\n                            <p className=\"text-xs text-slate-400 mt-1 ml-6\">\n                                Privacy-first: All embeddings generated locally\n                            </p>\n                        </div>\n                    </div>\n                </div>\n\n                {/* Save Button */}\n                <div className=\"flex gap-2\">\n                    <button onClick={handleSave} className=\"btn btn-primary\">\n                        {saved ? '\u2713 Saved!' : 'Save Settings'}\n                    </button>\n                    {saved && (\n                        <div className=\"flex items-center text-green-400 text-sm\">\n                            Settings saved successfully\n                        </div>\n                    )}\n                </div>\n\n                {/* Info */}\n                <div className=\"mt-6 p-4 bg-blue-900/20 border border-blue-700 rounded-lg\">\n                    <h4 className=\"font-semibold mb-2 text-blue-400\">\u2139\ufe0f Note</h4>\n                    <p className=\"text-sm text-slate-300\">\n                        Some settings require restarting the backend server to take effect.\n                        Settings are stored in your browser's local storage.\n                    </p>\n                </div>\n            </div>\n        </div>\n    );\n}\n",
    "src\\components\\CodeViewer.tsx": "// Monaco Code Viewer Component\n\n'use client';\n\nimport React, { useRef, useEffect } from 'react';\nimport * as monaco from 'monaco-editor';\n\ninterface CodeViewerProps {\n    code: string;\n    language: string;\n    filePath?: string;\n    readOnly?: boolean;\n    lineNumbers?: boolean;\n    minimap?: boolean;\n    highlightLine?: number;\n    onLineClick?: (lineNumber: number) => void;\n}\n\nexport default function CodeViewer({\n    code,\n    language,\n    filePath,\n    readOnly = true,\n    lineNumbers = true,\n    minimap = true,\n    highlightLine,\n    onLineClick,\n}: CodeViewerProps) {\n    const editorRef = useRef<HTMLDivElement>(null);\n    const monacoRef = useRef<monaco.editor.IStandaloneCodeEditor | null>(null);\n\n    useEffect(() => {\n        if (!editorRef.current) return;\n\n        // Create Monaco editor\n        const editor = monaco.editor.create(editorRef.current, {\n            value: code,\n            language: getMonacoLanguage(language),\n            theme: 'vs-dark',\n            readOnly,\n            automaticLayout: true,\n            lineNumbers: lineNumbers ? 'on' : 'off',\n            minimap: {\n                enabled: minimap,\n            },\n            scrollBeyondLastLine: false,\n            fontSize: 14,\n            fontFamily: \"'JetBrains Mono', 'Courier New', monospace\",\n            padding: { top: 10, bottom: 10 },\n            renderLineHighlight: 'all',\n            scrollbar: {\n                verticalScrollbarSize: 10,\n                horizontalScrollbarSize: 10,\n            },\n        });\n\n        monacoRef.current = editor;\n\n        // Handle line clicks\n        if (onLineClick) {\n            editor.onMouseDown((e) => {\n                if (e.target.position) {\n                    onLineClick(e.target.position.lineNumber);\n                }\n            });\n        }\n\n        // Cleanup\n        return () => {\n            editor.dispose();\n        };\n    }, []);\n\n    // Update code when it changes\n    useEffect(() => {\n        if (monacoRef.current) {\n            const model = monacoRef.current.getModel();\n            if (model && model.getValue() !== code) {\n                model.setValue(code);\n            }\n        }\n    }, [code]);\n\n    // Highlight specific line\n    useEffect(() => {\n        if (monacoRef.current && highlightLine) {\n            monacoRef.current.revealLineInCenter(highlightLine);\n            monacoRef.current.setPosition({\n                lineNumber: highlightLine,\n                column: 1,\n            });\n\n            // Add decoration for highlighted line\n            monacoRef.current.deltaDecorations(\n                [],\n                [\n                    {\n                        range: new monaco.Range(highlightLine, 1, highlightLine, 1),\n                        options: {\n                            isWholeLine: true,\n                            className: 'highlighted-line',\n                            glyphMarginClassName: 'highlighted-line-glyph',\n                        },\n                    },\n                ]\n            );\n        }\n    }, [highlightLine]);\n\n    return (\n        <div className=\"w-full h-full border border-slate-700 rounded-lg overflow-hidden\">\n            {/* Header */}\n            {filePath && (\n                <div className=\"bg-slate-800 border-b border-slate-700 px-4 py-2 flex items-center justify-between\">\n                    <div className=\"flex items-center gap-2\">\n                        <span className=\"text-sm font-mono text-slate-300\">{filePath}</span>\n                        <span className=\"text-xs text-slate-500\">({language})</span>\n                    </div>\n                    {readOnly && (\n                        <span className=\"text-xs text-slate-500\">Read Only</span>\n                    )}\n                </div>\n            )}\n\n            {/* Monaco Editor */}\n            <div ref={editorRef} className=\"w-full h-full min-h-[400px]\" />\n\n            <style jsx global>{`\n        .highlighted-line {\n          background-color: rgba(99, 102, 241, 0.2) !important;\n        }\n        .highlighted-line-glyph {\n          background-color: rgb(99, 102, 241) !important;\n          width: 3px !important;\n        }\n      `}</style>\n        </div>\n    );\n}\n\n// Map language names to Monaco language IDs\nfunction getMonacoLanguage(lang: string): string {\n    const languageMap: Record<string, string> = {\n        python: 'python',\n        py: 'python',\n        typescript: 'typescript',\n        ts: 'typescript',\n        javascript: 'javascript',\n        js: 'javascript',\n        jsx: 'javascript',\n        tsx: 'typescript',\n        json: 'json',\n        html: 'html',\n        css: 'css',\n        scss: 'scss',\n        markdown: 'markdown',\n        md: 'markdown',\n        yaml: 'yaml',\n        yml: 'yaml',\n    };\n\n    return languageMap[lang.toLowerCase()] || 'plaintext';\n}\n",
    "src\\components\\DiffViewer.tsx": "// Diff Viewer Component\n\n'use client';\n\nimport React, { useMemo } from 'react';\nimport { diffLines, Change } from 'diff';\n\ninterface DiffViewerProps {\n    original: string;\n    modified: string;\n    fileName?: string;\n    viewMode?: 'split' | 'unified';\n    showLineNumbers?: boolean;\n}\n\nexport default function DiffViewer({\n    original,\n    modified,\n    fileName,\n    viewMode = 'unified',\n    showLineNumbers = true,\n}: DiffViewerProps) {\n    const diffResult = useMemo(() => {\n        return diffLines(original, modified);\n    }, [original, modified]);\n\n    const stats = useMemo(() => {\n        let additions = 0;\n        let deletions = 0;\n\n        diffResult.forEach((part: Change) => {\n            if (part.added) additions += part.count || 0;\n            if (part.removed) deletions += part.count || 0;\n        });\n\n        return { additions, deletions };\n    }, [diffResult]);\n\n    return (\n        <div className=\"w-full border border-slate-700 rounded-lg overflow-hidden\">\n            {/* Header */}\n            <div className=\"bg-slate-800 border-b border-slate-700 px-4 py-2\">\n                <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center gap-3\">\n                        {fileName && (\n                            <span className=\"text-sm font-mono text-slate-300\">{fileName}</span>\n                        )}\n                        <div className=\"flex items-center gap-2 text-xs\">\n                            <span className=\"text-green-400\">+{stats.additions}</span>\n                            <span className=\"text-red-400\">-{stats.deletions}</span>\n                        </div>\n                    </div>\n\n                    {/* View mode toggle would go here */}\n                </div>\n            </div>\n\n            {/* Diff Content */}\n            <div className=\"bg-slate-900 overflow-x-auto\">\n                {viewMode === 'unified' ? (\n                    <UnifiedDiff diff={diffResult} showLineNumbers={showLineNumbers} />\n                ) : (\n                    <SplitDiff original={original} modified={modified} showLineNumbers={showLineNumbers} />\n                )}\n            </div>\n        </div>\n    );\n}\n\n// Unified Diff View\nfunction UnifiedDiff({ diff, showLineNumbers }: { diff: Change[]; showLineNumbers: boolean }) {\n    let lineNumber = 0;\n\n    return (\n        <div className=\"font-mono text-sm\">\n            {diff.map((part, idx) => {\n                const lines = part.value.split('\\n').filter((line, i, arr) => {\n                    // Filter out last empty line\n                    return i < arr.length - 1 || line !== '';\n                });\n\n                return lines.map((line, lineIdx) => {\n                    lineNumber++;\n                    const bgColor = part.added\n                        ? 'bg-green-900/30'\n                        : part.removed\n                            ? 'bg-red-900/30'\n                            : 'bg-transparent';\n                    const textColor = part.added\n                        ? 'text-green-300'\n                        : part.removed\n                            ? 'text-red-300'\n                            : 'text-slate-300';\n                    const prefix = part.added ? '+' : part.removed ? '-' : ' ';\n                    const borderColor = part.added\n                        ? 'border-l-2 border-green-500'\n                        : part.removed\n                            ? 'border-l-2 border-red-500'\n                            : '';\n\n                    return (\n                        <div\n                            key={`${idx}-${lineIdx}`}\n                            className={`flex items-start ${bgColor} ${borderColor} hover:bg-slate-800/50`}\n                        >\n                            {showLineNumbers && (\n                                <span className=\"px-3 py-1 text-slate-500 select-none min-w-[60px] text-right\">\n                                    {!part.added && !part.removed ? lineNumber : ''}\n                                </span>\n                            )}\n                            <span className=\"px-2 py-1 text-slate-500 select-none\">{prefix}</span>\n                            <pre className={`flex-1 py-1 pr-4 ${textColor} overflow-x-auto`}>\n                                <code>{line || ' '}</code>\n                            </pre>\n                        </div>\n                    );\n                });\n            })}\n        </div>\n    );\n}\n\n// Split Diff View\nfunction SplitDiff({\n    original,\n    modified,\n    showLineNumbers,\n}: {\n    original: string;\n    modified: string;\n    showLineNumbers: boolean;\n}) {\n    const originalLines = original.split('\\n');\n    const modifiedLines = modified.split('\\n');\n    const maxLines = Math.max(originalLines.length, modifiedLines.length);\n\n    return (\n        <div className=\"grid grid-cols-2 divide-x divide-slate-700 font-mono text-sm\">\n            {/* Original (Left) */}\n            <div>\n                <div className=\"bg-slate-800 px-4 py-1 text-xs text-slate-400 border-b border-slate-700\">\n                    Original\n                </div>\n                <div>\n                    {originalLines.map((line, idx) => (\n                        <div\n                            key={`orig-${idx}`}\n                            className=\"flex items-start hover:bg-slate-800/50\"\n                        >\n                            {showLineNumbers && (\n                                <span className=\"px-3 py-1 text-slate-500 select-none min-w-[50px] text-right\">\n                                    {idx + 1}\n                                </span>\n                            )}\n                            <pre className=\"flex-1 py-1 pr-4 text-slate-300 overflow-x-auto\">\n                                <code>{line || ' '}</code>\n                            </pre>\n                        </div>\n                    ))}\n                </div>\n            </div>\n\n            {/* Modified (Right) */}\n            <div>\n                <div className=\"bg-slate-800 px-4 py-1 text-xs text-slate-400 border-b border-slate-700\">\n                    Modified\n                </div>\n                <div>\n                    {modifiedLines.map((line, idx) => (\n                        <div\n                            key={`mod-${idx}`}\n                            className=\"flex items-start hover:bg-slate-800/50\"\n                        >\n                            {showLineNumbers && (\n                                <span className=\"px-3 py-1 text-slate-500 select-none min-w-[50px] text-right\">\n                                    {idx + 1}\n                                </span>\n                            )}\n                            <pre className=\"flex-1 py-1 pr-4 text-slate-300 overflow-x-auto\">\n                                <code>{line || ' '}</code>\n                            </pre>\n                        </div>\n                    ))}\n                </div>\n            </div>\n        </div>\n    );\n}\n",
    "src\\components\\GraphVisualizer.tsx": "// D3 Graph Visualizer Component\n\n'use client';\n\nimport React, { useEffect, useRef } from 'react';\nimport * as d3 from 'd3';\n\ninterface GraphNode {\n    id: string;\n    name: string;\n    type: 'function' | 'class' | 'file';\n    file?: string;\n    x?: number;\n    y?: number;\n    fx?: number | null;\n    fy?: number | null;\n}\n\ninterface GraphLink {\n    source: string | GraphNode;\n    target: string | GraphNode;\n    type: 'calls' | 'imports' | 'contains';\n}\n\ninterface GraphVisualizerProps {\n    nodes: GraphNode[];\n    links: GraphLink[];\n    width?: number;\n    height?: number;\n    onNodeClick?: (node: GraphNode) => void;\n}\n\nexport default function GraphVisualizer({\n    nodes,\n    links,\n    width = 800,\n    height = 600,\n    onNodeClick,\n}: GraphVisualizerProps) {\n    const svgRef = useRef<SVGSVGElement>(null);\n\n    useEffect(() => {\n        if (!svgRef.current || nodes.length === 0) return;\n\n        // Clear previous graph\n        d3.select(svgRef.current).selectAll('*').remove();\n\n        const svg = d3.select(svgRef.current)\n            .attr('width', width)\n            .attr('height', height);\n\n        // Create zoom behavior\n        const zoom = d3.zoom()\n            .scaleExtent([0.1, 4])\n            .on('zoom', (event) => {\n                container.attr('transform', event.transform);\n            });\n\n        svg.call(zoom as any);\n\n        // Container for graph elements\n        const container = svg.append('g');\n\n        // Color scale for node types\n        const colorScale = d3.scaleOrdinal<string>()\n            .domain(['function', 'class', 'file'])\n            .range(['#60a5fa', '#c084fc', '#34d399']);\n\n        // Create force simulation\n        const simulation = d3.forceSimulation(nodes as any)\n            .force('link', d3.forceLink(links)\n                .id((d: any) => d.id)\n                .distance(100))\n            .force('charge', d3.forceManyBody().strength(-300))\n            .force('center', d3.forceCenter(width / 2, height / 2))\n            .force('collision', d3.forceCollide().radius(30));\n\n        // Create links\n        const link = container.append('g')\n            .selectAll('line')\n            .data(links)\n            .enter()\n            .append('line')\n            .attr('stroke', '#64748b')\n            .attr('stroke-width', 2)\n            .attr('stroke-opacity', 0.6)\n            .attr('marker-end', 'url(#arrowhead)');\n\n        // Create arrowhead marker\n        svg.append('defs')\n            .append('marker')\n            .attr('id', 'arrowhead')\n            .attr('viewBox', '-0 -5 10 10')\n            .attr('refX', 20)\n            .attr('refY', 0)\n            .attr('orient', 'auto')\n            .attr('markerWidth', 6)\n            .attr('markerHeight', 6)\n            .append('svg:path')\n            .attr('d', 'M 0,-5 L 10 ,0 L 0,5')\n            .attr('fill', '#64748b')\n            .style('stroke', 'none');\n\n        // Create node groups\n        const node = container.append('g')\n            .selectAll('g')\n            .data(nodes)\n            .enter()\n            .append('g')\n            .attr('cursor', 'pointer')\n            .call(d3.drag<any, any>()\n                .on('start', dragstarted)\n                .on('drag', dragged)\n                .on('end', dragended) as any);\n\n        // Add circles to nodes\n        node.append('circle')\n            .attr('r', 20)\n            .attr('fill', (d: GraphNode) => colorScale(d.type))\n            .attr('stroke', '#1e293b')\n            .attr('stroke-width', 2);\n\n        // Add labels\n        node.append('text')\n            .text((d: GraphNode) => d.name)\n            .attr('x', 0)\n            .attr('y', 35)\n            .attr('text-anchor', 'middle')\n            .attr('fill', '#e2e8f0')\n            .attr('font-size', '12px')\n            .attr('font-weight', '600');\n\n        // Add tooltips\n        node.append('title')\n            .text((d: GraphNode) => `${d.name}\\nType: ${d.type}${d.file ? `\\nFile: ${d.file}` : ''}`);\n\n        // Node click handler\n        node.on('click', (event, d: GraphNode) => {\n            event.stopPropagation();\n            if (onNodeClick) {\n                onNodeClick(d);\n            }\n        });\n\n        // Hover effects\n        node.on('mouseenter', function () {\n            d3.select(this).select('circle')\n                .transition()\n                .duration(200)\n                .attr('r', 25)\n                .attr('stroke-width', 3);\n        });\n\n        node.on('mouseleave', function () {\n            d3.select(this).select('circle')\n                .transition()\n                .duration(200)\n                .attr('r', 20)\n                .attr('stroke-width', 2);\n        });\n\n        // Update positions on simulation tick\n        simulation.on('tick', () => {\n            link\n                .attr('x1', (d: any) => d.source.x)\n                .attr('y1', (d: any) => d.source.y)\n                .attr('x2', (d: any) => d.target.x)\n                .attr('y2', (d: any) => d.target.y);\n\n            node.attr('transform', (d: any) => `translate(${d.x},${d.y})`);\n        });\n\n        // Drag functions\n        function dragstarted(event: any, d: any) {\n            if (!event.active) simulation.alphaTarget(0.3).restart();\n            d.fx = d.x;\n            d.fy = d.y;\n        }\n\n        function dragged(event: any, d: any) {\n            d.fx = event.x;\n            d.fy = event.y;\n        }\n\n        function dragended(event: any, d: any) {\n            if (!event.active) simulation.alphaTarget(0);\n            d.fx = null;\n            d.fy = null;\n        }\n\n        // Cleanup\n        return () => {\n            simulation.stop();\n        };\n    }, [nodes, links, width, height, onNodeClick]);\n\n    return (\n        <div className=\"border border-slate-700 rounded-lg overflow-hidden bg-slate-900\">\n            {/* Controls */}\n            <div className=\"bg-slate-800 border-b border-slate-700 px-4 py-2 flex items-center justify-between\">\n                <div className=\"text-sm font-medium text-slate-300\">\n                    {nodes.length} nodes, {links.length} edges\n                </div>\n                <div className=\"flex items-center gap-4 text-xs\">\n                    <div className=\"flex items-center gap-2\">\n                        <div className=\"w-3 h-3 rounded-full bg-blue-400\"></div>\n                        <span className=\"text-slate-400\">Functions</span>\n                    </div>\n                    <div className=\"flex items-center gap-2\">\n                        <div className=\"w-3 h-3 rounded-full bg-purple-400\"></div>\n                        <span className=\"text-slate-400\">Classes</span>\n                    </div>\n                    <div className=\"flex items-center gap-2\">\n                        <div className=\"w-3 h-3 rounded-full bg-green-400\"></div>\n                        <span className=\"text-slate-400\">Files</span>\n                    </div>\n                </div>\n            </div>\n\n            {/* Graph */}\n            <svg ref={svgRef} className=\"w-full h-full\"></svg>\n\n            {/* Instructions */}\n            <div className=\"bg-slate-800 border-t border-slate-700 px-4 py-2 text-xs text-slate-400\">\n                Drag nodes to rearrange \u2022 Scroll to zoom \u2022 Click nodes for details\n            </div>\n        </div>\n    );\n}\n",
    "src\\components\\Layout.tsx": "// Main App Layout Component\n\nimport React from 'react';\nimport { useStore } from '@/store';\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\n\nexport default function Layout({ children }: { children: React.ReactNode }) {\n    const { sidebarOpen, toggleSidebar } = useStore();\n    const pathname = usePathname();\n\n    const navItems = [\n        { href: '/', label: 'Chat', icon: '\ud83d\udcac' },\n        { href: '/index_file', label: 'Index', icon: '\ud83d\udcc1' },\n        { href: '/search', label: 'Search', icon: '\ud83d\udd0d' },\n        { href: '/graph', label: 'Graph', icon: '\ud83d\udd78\ufe0f' },\n        { href: '/settings', label: 'Settings', icon: '\u2699\ufe0f' },\n    ];\n\n    return (\n        <div className=\"flex h-screen bg-slate-900\">\n            {/* Sidebar */}\n            <aside\n                className={`${sidebarOpen ? 'w-64' : 'w-20'\n                    } bg-slate-800 border-r border-slate-700 transition-all duration-300 flex flex-col`}\n            >\n                {/* Logo */}\n                <div className=\"p-4 border-b border-slate-700\">\n                    <h1 className={`font-bold text-xl gradient-text ${!sidebarOpen && 'text-center'}`}>\n                        {sidebarOpen ? 'Vibe Agent' : 'VA'}\n                    </h1>\n                </div>\n\n                {/* Navigation */}\n                <nav className=\"flex-1 p-4 space-y-2\">\n                    {navItems.map((item) => (\n                        <Link\n                            key={item.href}\n                            href={item.href}\n                            className={`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${pathname === item.href\n                                ? 'bg-indigo-600 text-white'\n                                : 'text-slate-300 hover:bg-slate-700'\n                                }`}\n                        >\n                            <span className=\"text-xl\">{item.icon}</span>\n                            {sidebarOpen && <span className=\"font-medium\">{item.label}</span>}\n                        </Link>\n                    ))}\n                </nav>\n\n                {/* Toggle Button */}\n                <button\n                    onClick={toggleSidebar}\n                    className=\"p-4 border-t border-slate-700 text-slate-400 hover:text-white transition-colors\"\n                >\n                    {sidebarOpen ? '\u25c0' : '\u25b6'}\n                </button>\n            </aside>\n\n            {/* Main Content */}\n            <main className=\"flex-1 overflow-hidden\">{children}</main>\n        </div>\n    );\n}\n",
    "src\\store\\index.ts": "// Zustand Store for Global State Management\n\nimport { create } from 'zustand';\n\ninterface IndexingState {\n    isIndexing: boolean;\n    progress: number;\n    status: string;\n    sessionId: string | null;\n}\n\ninterface ChatMessage {\n    role: 'user' | 'assistant';\n    content: string;\n    timestamp: Date;\n}\n\ninterface ChatState {\n    messages: ChatMessage[];\n    isStreaming: boolean;\n    sessionId: string | null;\n}\n\ninterface Store {\n    // Indexing state\n    indexing: IndexingState;\n    setIndexing: (state: Partial<IndexingState>) => void;\n\n    // Chat state\n    chat: ChatState;\n    addMessage: (message: ChatMessage) => void;\n    clearChat: () => void;\n    setStreaming: (isStreaming: boolean) => void;\n\n    // UI state\n    sidebarOpen: boolean;\n    toggleSidebar: () => void;\n\n    // Current file/function\n    selectedFile: string | null;\n    selectedFunction: string | null;\n    setSelectedFile: (file: string | null) => void;\n    setSelectedFunction: (func: string | null) => void;\n}\n\nexport const useStore = create<Store>((set) => ({\n    // Indexing\n    indexing: {\n        isIndexing: false,\n        progress: 0,\n        status: '',\n        sessionId: null,\n    },\n    setIndexing: (state) =>\n        set((prev) => ({\n            indexing: { ...prev.indexing, ...state },\n        })),\n\n    // Chat\n    chat: {\n        messages: [],\n        isStreaming: false,\n        sessionId: null,\n    },\n    addMessage: (message) =>\n        set((prev) => ({\n            chat: {\n                ...prev.chat,\n                messages: [...prev.chat.messages, message],\n            },\n        })),\n    clearChat: () =>\n        set((prev) => ({\n            chat: {\n                ...prev.chat,\n                messages: [],\n            },\n        })),\n    setStreaming: (isStreaming) =>\n        set((prev) => ({\n            chat: {\n                ...prev.chat,\n                isStreaming,\n            },\n        })),\n\n    // UI\n    sidebarOpen: true,\n    toggleSidebar: () =>\n        set((prev) => ({ sidebarOpen: !prev.sidebarOpen })),\n\n    // Selection\n    selectedFile: null,\n    selectedFunction: null,\n    setSelectedFile: (file) => set({ selectedFile: file }),\n    setSelectedFunction: (func) => set({ selectedFunction: func }),\n}));\n"
  }
}
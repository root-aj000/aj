# ======================
# TARGET REPOSITORY
# ======================
TARGET_REPO_PATH=/absolute/path/to/your/target/repository

# ======================
# LLM CONFIGURATION
# ======================
# Primary model for most operations
LLM_MODEL_TYPE=gemini-2.0-flash-exp
# Fallback model for complex tasks
LLM_FALLBACK_MODEL_TYPE=gemini-1.5-pro
# Your Gemini API key
GEMINI_API_KEY=your_gemini_api_key_here

# ======================
# EMBEDDING MODEL
# ======================
# Type: bge-m3 (local) or gemini (API-based)
EMBEDDING_MODEL_TYPE=bge-m3
# Path to local BGE-M3 model
EMBEDDING_MODEL_PATH=./models/bge-m3
# Use local embeddings (true) or Gemini embeddings (false)
USE_LOCAL_EMBEDDINGS=true

# ======================
# TOKEN LIMITS
# ======================
# Maximum tokens per LLM request
MAX_TOKENS_PER_REQUEST=70000
# Reserved tokens for system prompt
SYSTEM_PROMPT_RESERVED_TOKENS=3000
# Maximum output tokens
MAX_OUTPUT_TOKENS=8192

# ======================
# RATE LIMITING
# ======================
RATE_LIMIT_REQ_PER_MIN=50
RATE_LIMIT_TOKENS_PER_MIN=2000000

# ======================
# REDIS
# ======================
REDIS_URL=redis://localhost:6379/0

# ======================
# VECTOR DATABASE (FAISS)
# ======================
VECTOR_DB_PATH=./data/vector_db

# ======================
# GRAPH DATABASE (Neo4j)
# ======================
NEO4J_URL=bolt://localhost:7687
NEO4J_USERNAME=neo4j
NEO4J_PASSWORD=changeme

# ======================
# MEMORY DATABASE (SQLite)
# ======================
MEMORY_DB_PATH=./data/memory.db
CODE_HEALTH_DB_PATH=./data/code_health.db

# ======================
# INDEXING SETTINGS
# ======================
# Chunk size in tokens
CHUNK_SIZE=400
# Chunk overlap in tokens
CHUNK_OVERLAP=70
# Generate summaries during indexing
GENERATE_SUMMARIES=true

# ======================
# RETRIEVAL SETTINGS
# ======================
# Number of semantic search results
SEMANTIC_SEARCH_TOP_K=50
# Enable graph expansion
ENABLE_GRAPH_EXPANSION=true
# Enable error-path retrieval
ENABLE_ERROR_PATH_RETRIEVAL=true
# Enable code health scoring in ranking
USE_CODE_HEALTH_RANKING=true

# ======================
# ADVANCED FEATURES
# ======================
# Enable offline mode
ENABLE_OFFLINE_MODE=false
# Enable LLM response caching
ENABLE_LLM_CACHE=true
# Cache TTL in seconds (24 hours)
LLM_CACHE_TTL=86400
# Enable recovery checkpoints
ENABLE_RECOVERY=true

# ======================
# DEBUGGING
# ======================
# Enable debug tier escalation
ENABLE_TIER_ESCALATION=true
# Enable retry-tree patching
ENABLE_RETRY_TREE=true
# Maximum retry attempts
MAX_RETRY_ATTEMPTS=3

# ======================
# API SETTINGS
# ======================
API_HOST=0.0.0.0
API_PORT=8000
# Enable CORS
ENABLE_CORS=true
# Allowed origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# ======================
# LOGGING
# ======================
LOG_LEVEL=INFO
LOG_FILE=./logs/vibe-agent.log
